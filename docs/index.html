<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Geographic Networks • geonetwork</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Geographic Networks">
<meta property="og:description" content="Provides classes and methods for handling networks or 
  graphs whose nodes are geographical (i.e. locations in the globe).
  The functionality includes the creation of objects of class geonetwork
  as a graph with node coordinates, the computation of network measures,
  the support of spatial operations (projection to different Coordinate
  Reference Systems, handling of bounding boxes, etc.) and the plotting of
  the geonetwork object combined with supplementary cartography for spatial 
  representation.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">geonetwork</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    

<!-- README.md is generated from README.Rmd. Please edit that file -->
<div id="geonetwork" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#geonetwork" class="anchor"></a>geonetwork</h1></div>
<p>Classes and methods for handling networks or graphs whose nodes are geographical (i.e. locations in the globe). Create, transform, plot.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install the released version of geonetwork from <a href="https://CRAN.R-project.org">CRAN</a> with:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/install.packages">install.packages</a></span>(<span class="st">"geonetwork"</span>)</code></pre></div>
<p><code>geonetwork</code> is in development. You can install the current version from GitHub with:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">remotes<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/remotes/topics/install_github">install_github</a></span>(<span class="st">"famuvie/geonetwork"</span>)</code></pre></div>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<div id="creation" class="section level3">
<h3 class="hasAnchor">
<a href="#creation" class="anchor"></a>Creation</h3>
<p>A <code>geonetwork</code> is an object of class <code>igraph</code> whose nodes have <em>geospatial</em> attributes (i.e. coordinates and CRS).</p>
<p>Consider the distances (in km) between 21 cities in Europe from the <code>datasets</code> package. A simple way of constructing a <code>geonetwork</code> is by combining a data.frame of <code>nodes</code> with one of <code>edges</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">cities &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/cbind">cbind</a></span>(
  <span class="dt">city =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/labels">labels</a></span>(datasets<span class="op">::</span>eurodist),
  ggmap<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/ggmap/topics/geocode">geocode</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/labels">labels</a></span>(datasets<span class="op">::</span>eurodist), <span class="dt">source =</span> <span class="st">"dsk"</span>)
)

## ggmap can either use Google Maps Api (which requires registration
## with credit card and offers limited amount of queries) of 
## Data Science Toolkit (DSK) whose service is being shut-down.
## 
## Alternatively, uses OpenStreetMap Nominatim service
<span class="co"># tmaptools::geocode_OSM(labels(datasets::eurodist))</span>

distances &lt;-<span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/expand.grid">expand.grid</a></span>(
    <span class="dt">origin =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/labels">labels</a></span>(datasets<span class="op">::</span>eurodist),
    <span class="dt">destin =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/labels">labels</a></span>(datasets<span class="op">::</span>eurodist),
    <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>,
    <span class="dt">KEEP.OUT.ATTRS =</span> <span class="ot">FALSE</span>
  )
distances &lt;-<span class="st"> </span>
<span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/cbind">cbind</a></span>(
    distances[distances<span class="op">$</span>destin <span class="op">&lt;</span><span class="st"> </span>distances<span class="op">$</span>origin,],
    <span class="dt">distance =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/numeric">as.numeric</a></span>(datasets<span class="op">::</span>eurodist)
  )

<span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/str">str</a></span>(cities)
<span class="co">#&gt; 'data.frame':    21 obs. of  3 variables:</span>
<span class="co">#&gt;  $ city: Factor w/ 21 levels "Athens","Barcelona",..: 1 2 3 4 5 6 7 8 9 10 ...</span>
<span class="co">#&gt;  $ lon : num  23.72 2.16 4.35 1.85 -1.62 ...</span>
<span class="co">#&gt;  $ lat : num  38 41.4 50.9 51 49.6 ...</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/str">str</a></span>(distances)
<span class="co">#&gt; 'data.frame':    210 obs. of  3 variables:</span>
<span class="co">#&gt;  $ origin  : chr  "Barcelona" "Brussels" "Calais" "Cherbourg" ...</span>
<span class="co">#&gt;  $ destin  : chr  "Athens" "Athens" "Athens" "Athens" ...</span>
<span class="co">#&gt;  $ distance: num  3313 2963 3175 3339 2762 ...</span>

eurodist &lt;-<span class="st"> </span><span class="kw"><a href="reference/geonetwork.html">geonetwork</a></span>(distances, <span class="dt">nodes =</span> cities, <span class="dt">directed =</span> <span class="ot">FALSE</span>)</code></pre></div>
<p>Several assumptions were made here unless otherwise specified:</p>
<ul>
<li><p>The first column in <code>cities</code> was matched with the first two columns in <code>distances</code>.</p></li>
<li><p>The second and third columns in <code>cities</code> were assumed to be longitude and latitude in decimal degrees in a WGS84 CRS.</p></li>
<li><p>The remaining column in <code>distances</code> was treated as an edge <em>weight</em>.</p></li>
</ul>
<p>Now we can readily plot the network, optionally with some additional geographical layer for context:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Base system
<span class="kw"><a href="https://www.rdocumentation.org/packages/graphics/topics/plot">plot</a></span>(eurodist, <span class="dt">axes =</span> <span class="ot">TRUE</span>, <span class="dt">type =</span> <span class="st">"n"</span>)
<span class="kw"><a href="https://www.rdocumentation.org/packages/graphics/topics/plot">plot</a></span>(sf<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/sf/topics/st_geometry">st_geometry</a></span>(spData<span class="op">::</span>world), <span class="dt">col =</span> <span class="st">"lightgray"</span>, <span class="dt">add =</span> <span class="ot">TRUE</span>)
<span class="kw"><a href="https://www.rdocumentation.org/packages/graphics/topics/plot">plot</a></span>(eurodist, <span class="dt">axes =</span> <span class="ot">TRUE</span>, <span class="dt">add =</span> <span class="ot">TRUE</span>)</code></pre></div>
<p><img src="reference/figures/README-plotting-1.png" width="100%"></p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Report a bug at <br><a href="https://github.com/Cirad-ASTRE/geonetwork/issues">https://​github.com/​Cirad-ASTRE/​geonetwork/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> | file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Facundo Muñoz <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-5061-4241" target="orcid.widget"><img src="https://members.orcid.org/sites/default/files/vector_iD_icon.svg" class="orcid" alt="ORCID" height="16"></a> </li>
</ul>
</div>

      <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://cran.r-project.org/package=geonetwork"><img src="https://www.r-pkg.org/badges/version/geonetwork" alt="CRAN status"></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Facundo Muñoz.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
